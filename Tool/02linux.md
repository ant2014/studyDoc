#Linux常用命令
##1、命令基本格式与文件处理命令
`[root@localhost ~]#` [账户@主机名 当前所在位置] #(表示登陆用户为管理员，普通用户的命令提示符为$)  
~家目录，初始登陆位置，管理员的家目录在/root下，普通用户的家目录在/home/${username}

###命令格式
命令 [选项] [参数]  
注意：

1. 大多数命令都是这个格式，但不排除有个别特殊命令不遵循这个格式
2. 可以简写，例如-a等于--all，并且当有多个选项时，可以连写

###文件命令：查询目录中的内容
ls [选项] [文件或目录]  
选项：

* -a 显示所有文件，包括隐藏文件（以.开头，隐藏文件并不是为了真的藏起来，而是系统文件隐藏自己防止误操作）
* -l 显示详细信息
* -d 查看目录属性，查看目录本身，而不是查看该目录下面的子文件
* -h 人性化显示文件大小，human，所有文件大小的都支持-h参数
* -i 显示inode，每个文件都有一个id号，系统查找的时候，就是通过这个id号来判断

###ll结果分析
![ls图片](http://7xjao4.com1.z0.glb.clouddn.com/B8A9D840-AEFB-4370-9FEF-B83C1ABEAA84.png)
-rwxr--r--  
含义：

* - 第一位，代表文件类型，（-文件，d目录，l软链接文件），Linux中不是靠扩展名来区分文件的，Linux中没有扩展名这个概念，文件类型只有7种（常见的如上述三种），相比下windows中的扩展名则有数不清多种，如.doc .ppt .exe .txt
* r 度 w 写 r 执行
* 三组分别代表u所有者 g所属组 o其他人

之后的1代表，引用计数的个数，

root root 代表所有者和所属组

文件的大小

文件的最后修改时间

文件名

### 目录处理命令
普通文件是用来保存数据的，而目录是来保存文件的
#### 建立目录mkdir   
mkdir -p [目录名]  // make directory
-p 递归创建

#### 切换目录 cd
cd [目录] //change directory
cd ~ / cd 回到家目录
cd - 进入上次目录，多次执行
cd . 进入当前目录
cd .. 进入上级目录

### 查询当前所在目录 pwd
pwd // print working directory

### 删除空目录 rmdir
rmdir [目录名]		// remove empty directories
只能删除空目录，故不常用，常用下一条命令

### 删除文件或目录 rm
rm -rf [文件或目录]	// remove
选项：
	
* -r 删除目录，recursive 递归
* -f 强制

Linux图形界面有回收站，但是纯命令模式下，没有回收站，删了就真没有了

### 复制文件或目录 cp
cp [选项] [原文件或目录] [目标目录]	// copy
选项：

* -r 复制目录
* -p 连带文件属性复制，默认复制过去的文件的时间是执行复制动作的时间
* -d 若源文件是链接文件，则复制链接属性
* -a 相当于-pdr

若目标为目录，则原文件名复制，若目标为目录下的文件名，则复制过去并改名

### 文件或目录剪切或改名 mv
mv [原文件或目录] [目标目录]	//move  
如果原文件和目标文件不在一个目录下就是剪切，如果在一个目录下，就是改名

### Linux常用目录的作用

* / 根目录
* /bin 命令保存目录，普通用户就可以读取的命令。根目录下的bin和sbin，/usr下的bin和sbin，这4个目录都是用来保存系统命令的。区别是2个sbin目录只有root用户能执行。
* /usr 系统软件资源目录
* /var 系统相关文档内容
* /boot 启动目录，启动相关文件
* /dev 设备文件保存目录
* /etc	配置文件保存目录
* /home 普通用户的家目录
* /root 超级用户的家目录
* /lib 系统函数库保存目录，并不是把所有的功能都写到了系统中，而是把部分功能写成了一个个的库
* /mnt 系统挂载目录，三个空目录作为外接存储设备的盘符，mnt挂载优盘
* /media 挂载目录，挂载光盘
* /misc 挂载目录，挂载磁盘
* /proc /sys 这两个目录保存的是内存的挂载点，内存的盘符，不能直接操作
* /tmp 临时目录，临时数据可以放在这里

文件请遵循规范存放，可以在家目录和tmp目录下随便存放。


### 文件处理命令

### 链接命名
ln -s [原文件] [目标文件]	//link
用来生成链接文件，有软链接和硬链接之分

选项：

* -s 创建软链接

硬链接：分区主要做两件事，一是划分block存储块，二是创建分区表。查找文件时，先去分区表中查找文件所在的具体的block块，然后再访问block块。硬链接，即两个不同的名字，但都指向相同的分区表的字段，再指向相同的block存储空间。如果我们删掉其中的一个名字，则文件还可以通过另外一个名字正常打开。所以，硬链接可以理解为一个教室有两个不同的门，都可以正常访问。

硬链接的特征：

1. 拥有相同的i节点和存储block块，可以看做是同一个文件。
2. 可通过i节点识别
3. 不能跨分区
4. 不能针对目录使用，只有文件可以创建硬链接

实例：
ln /root/a.cfg /tmp/b.hard.cfg
ll命令查看，这两个文件的信息完全一样，变化的地方仅是，引用计数都加了1  
现在我们修改a.cfg文件，会发现b.hard.cfg的内容同步变化了
我们删除a.cfg，b.hard.cfg仍然可以正常使用，引用计数会减一

ls -i /root/a.cfg /tmp/b.hard.cfg
可以看出，二者的i节点号是一样的，可以从这里识别他们俩，也只能从这里识别他们

不建议使用硬链接，除了可以通过i节点识别外，我们很难发现它是不是硬链接，而且硬链接的限制很多，不能跨分区，不能针对目录


软链接的特征：

1. 类似windows的快捷方式，几乎一样的特性
2. 软链接拥有自己的i节点和block块，但是数据块中只保存原文件的文件名和i节点，并没有实际的文件数据
3. lrwxrwxrwx，l标明了自己的身份为软链接，软链接的权限均为rwxrwxrwx
4. 修改任意一个文件，另一个都跟着变
5. 删除原文件，软链接不可用

注意，软链接的原文件如果是相对路径，必须和目标文件在同一个文件下面，否则会找不到，所以软链接的原文件最好写绝对路径

echo 123 >> /tmp/a，可以将字符添加到原文件的尾部


 
##2、文件搜索命令
###2.1 文件搜索命令 locate
在后台数据库中按文件名搜索，最大的好处是搜索速度很快，但是，如果我们新建一个文件，然后马上locate它，你会发现，搜不到。原因是，locate并不是直接在系统中搜索，而是在/var/lib/mlocate数据库中进行搜索，但是这个数据库文件并不是实时更新的，而是每天更新一次，可以执行updatedb命令强制更新  
locate的另一个缺点是，只能按照文件名去搜索  
locate 文件名

locate是按照/etc/updatedb.conf配置文件来搜索的

* PRUNE_BIND_MOUNTS="yes"	//开启搜索限制，表示下列配置生效
* PRUNEFS = 	//搜索时不搜索的文件系统
* PRUNENAMES = //搜索时不搜索的文件类型
* PRUNEPATHS = //搜索时不搜索的路径

注意whereis和which也遵循这个配置文件的规则

###2.2 文件搜索命令 find
find [搜索范围] [搜索条件]
find / -name install.log
避免大范围搜索，会非常耗费系统资源

###2.3 命令搜索命令 whereis和which
whereis 命令名
搜索命令所在路径及帮助文档所在位置
选项：
	
* -b 只查找可执行文件
* -m 只查找帮助文件

whoami
whatis ls

which 文件名
搜索命令所在的路径及别名

whereis 可以看到命令所在的位置和帮助文档
which可以看到命令的别名

通过whereis和which看到的都是外部安装的，外来命令，cd命令是shell内置的命令，他俩都找不到

PATH环境变量
定义了系统搜索命令的路径
echo $PATH


###2.4 字符串搜索命令 grep
grep [选项] 字符串 文件名
在文件当中匹配符合条件的字符串
选项：

* -i 忽略大小写
* -v 排除指定字符串，取反，搜索不包含字符串


###2.5 find命令和grep命令的区别
find命令：在系统中搜索符合条件的文件名，如果需要匹配，使用通配符匹配，通配符是完全匹配  
grep命令：在文件当中搜索符合条件的字符串，如果需要匹配，使用正则表达式进行匹配，正则表达式是包含匹配

##3、帮助命令
##4、压缩命令
##5、关机与重启命令
##6、其他常用命令
##7、Shell基础